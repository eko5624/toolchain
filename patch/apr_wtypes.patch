diff -ur apr-1.4.6-origin/file_io/win32/filestat.c apr-1.4.6/file_io/win32/filestat.c
--- apr-1.4.6-origin/file_io/win32/filestat.c	2011-03-22 01:04:17.000000000 +0800
+++ apr-1.4.6/file_io/win32/filestat.c	2013-01-05 13:47:08.000000000 +0800
@@ -15,8 +15,8 @@
  */
 
 #include "apr.h"
-#include <aclapi.h>
 #include "apr_private.h"
+#include <aclapi.h>
 #include "apr_arch_file_io.h"
 #include "apr_file_io.h"
 #include "apr_general.h"
Only in apr-1.4.6/file_io/win32: filestat.c.orig
diff -ur apr-1.4.6-origin/include/arch/win32/apr_private.h apr-1.4.6/include/arch/win32/apr_private.h
--- apr-1.4.6-origin/include/arch/win32/apr_private.h	2007-06-01 07:55:21.000000000 +0800
+++ apr-1.4.6/include/arch/win32/apr_private.h	2013-01-05 13:47:23.000000000 +0800
@@ -45,12 +45,17 @@
  */
 #ifndef _WIN32_WCE
 #define HAVE_ACLAPI 1
-#ifdef __wtypes_h__
+// #ifdef __wtypes_h__
+#ifdef __WIDL_WTYPES_H
 #include <accctrl.h>
 #else
-#define __wtypes_h__
+// #define __wtypes_h__
+#define __WIDL_WTYPES_H
+#define COM_NO_WINDOWS_H
 #include <accctrl.h>
-#undef __wtypes_h__
+// #undef __wtypes_h__
+#undef __WIDL_WTYPES_H
+#undef COM_NO_WINDOWS_H
 #endif
 #else
 #define HAVE_ACLAPI 0
@@ -121,7 +126,7 @@
  */
 typedef void (Sigfunc)(int);
 
-#define sleep(t)                 Sleep((t) * 1000)
+// #define sleep(t)                 Sleep((t) * 1000)
 
 #define SIZEOF_SHORT           2
 #define SIZEOF_INT             4
